<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        input {
            font-size: 20px;
            height: 50px;
        }

        .imagediv {
            float: left;
            margin-top: 50px;
        }

        .imagediv .showonhover {
            background: red;
            padding: 20px;
            opacity: 0.9;
            color: white;
            width: 100%;
            display: block;
            text-align: center;
            cursor: pointer;
        }
    </style>
</head>

<body>

    <input class="input-fix-imagefile" type="file" id="file1" name="image" accept="image/*" capture style="display:none" />
    <img src="images/noPic.jpg" id="upfile1" style="cursor:pointer"
    />


    <script src="js/jquery.min.js"></script>
    <script>
     


        var input = document.querySelector('input[type=file]');

        input.onchange = function () {
            var file = input.files[0];

            drawOnCanvas(file);   
            displayAsImage(file); 
        };

        function drawOnCanvas(file) {
            var reader = new FileReader();

            reader.onload = function (e) {
                var dataURL = e.target.result,
                    c = document.querySelector('canvas'), 
                    ctx = c.getContext('2d'),
                    img = new Image();

                img.onload = function () {
                    c.width = img.width;
                    c.height = img.height;
                    ctx.drawImage(img, 0, 0);
                };

                img.src = dataURL;
            };

           
        }

        function displayAsImage(file) {
            var imgURL = URL.createObjectURL(file),
                img = document.createElement('img'),
                imgchange = document.getElementById("upfile1");
                console.log(imgchange);

            img.onload = function () {
                URL.revokeObjectURL(imgURL);
            };

            imgchange.src = imgURL;
            
        }

        $("#upfile1").click(function () {
            $("#file1").trigger('click');
        });
     
    </script>
</body>

</html>